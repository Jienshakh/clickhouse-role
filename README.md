## Ansible Role: vector-role
=========

Ansible-роль для установки и настройки ClickHouse – высокопроизводительная аналитическая СУБД на серверах.
ClickHouse — это столбцовая система управления базами данных, предназначенная для онлайн-обработки аналитических запросов (OLAP).

**Эта роль:**

- Скачивает и устанавливает ClickHouse из официальных RPM-пакетов
- Настраивает ClickHouse сервер и клиент
- Создает базу данных logs и таблицу для хранения логов
- Настраивает внешний доступ к ClickHouse
- Управляет службой clickhouse-server (systemd)

### Требования
------------

Перед использованием роли убедитесь, что:

- Ansible >= 2.9
- Целевые хосты работают на CentOS/RHEL или совместимых дистрибутивах
- На хостах есть доступ к интернету для загрузки RPM-пакетов
- На хостах есть sudo‑доступ для пользователя Ansible

### Переменные роли
--------------
Переменные роли  в `defaults/main.yml`.

| Переменная        | По умолчанию | Описание |
|-------------------|--------------|----------|
| `clickhouse_version`  | `"22.3.3.44"` | Версия ClickHouse для установки |

Переменные роли  в `vars/main.yml`.

| Переменная        | По умолчанию | Описание |
|-------------------|--------------|----------|
| `clickhouse_packages`  | `["clickhouse-client", "clickhouse-server", "clickhouse-common-static"]` | Список пакетов ClickHouse для установки |

### Пример использования
----------------

Вот пример простого playbook, который устанавливает Vector на группу хостов:

```yml
---
- name: Install ClickHouse
  hosts: clickhouse
  roles:
    - clickhouse-role
```

### Лицензия
-------

MIT License